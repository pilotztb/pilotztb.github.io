<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"./public/search.xml"};
  </script>

  <meta name="description" content="第一章 操作系统概述">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统概述">
<meta property="og:url" content="http://example.com/posts/2ba40472.html">
<meta property="og:site_name" content="Pilot&#39;s Blog">
<meta property="og:description" content="第一章 操作系统概述">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/image-20230316210022128.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/767740c0a7e0a2b2d667f428770298d.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/39cce9e3e82a7e9df213b7acc0b171d.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/5f826210f563db759a6b5047c946cc4.jpg">
<meta property="article:published_time" content="2024-03-09T06:45:49.000Z">
<meta property="article:modified_time" content="2024-03-26T10:50:54.378Z">
<meta property="article:author" content="Pilot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/image-20230316210022128.png">

<link rel="canonical" href="http://example.com/posts/2ba40472.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>操作系统概述 | Pilot's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Pilot's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/2ba40472.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Pilot">
      <meta itemprop="description" content="心有所向，无问西东">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pilot's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          操作系统概述
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-03-09 14:45:49" itemprop="dateCreated datePublished" datetime="2024-03-09T14:45:49+08:00">2024-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-26 18:50:54" itemprop="dateModified" datetime="2024-03-26T18:50:54+08:00">2024-03-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%90%86%E8%AE%BA/" itemprop="url" rel="index"><span itemprop="name">理论</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/2ba40472.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/2ba40472.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="第一章-操作系统概述">第一章 操作系统概述</h1>
<span id="more"></span>
<blockquote>
<p>思考：</p>
<ul>
<li>操作系统的功能有哪些？</li>
<li>操作系统有哪些特征？最基本的特征是什么？</li>
<li>什么是批处理系统？单道批处理系统与多道批处理系统的区别？</li>
<li>什么是硬实时任务和软实时任务？</li>
<li>在交互性、及时性以及可靠性方面，分时系统与实时系统有什么区别？</li>
<li>CPU有哪些运行模式？什么事情会导致用户态转为内核态?</li>
<li>什么是特权指令和非特权指令？有哪些常见的特权指令？</li>
<li>发生中断或异常应该如何处理？</li>
<li>系统调用的过程是怎样的？</li>
</ul>
</blockquote>
<h2 id="操作系统的基本概念">1.1 操作系统的基本概念</h2>
<h3 id="操作系统的概念">1.1.1 操作系统的概念</h3>
<p><strong>操作系统</strong>是指控制和管理整个计算机系统的硬件与软件资源，合理的组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序集合。
操作系统是最基本的系统软件。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/image-20230422221717441.png" /></p>
<p><strong>主要作用</strong>：对整个计算机系统的软硬件资源进行管理和控制，提高资源的利用率和系统的吞吐量，并对计算机的工作和资源的分配进行合理的组织和调度，为用户和应用程序提供方便访问的接口。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/image-20230422221736931.png" /></p>
<p>操作系统位于用户层和硬件层之间，向上提供服务，向下管理资源。</p>
<p>牢记一句话：操作系统是<font color = "red">管理计算机资源</font>的软件</p>
<p>举例：操作系统关心什么不关心什么</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/c9312f0b8ca397a9b27095c412389e5.jpg" /></p>
<p>第2题看图就能看出来。解释源程序为什么不是操作系统管理：操作系统关心文件放在哪，不关心这是什么文件</p>
<h3 id="操作系统的特征">1.1.2 操作系统的特征</h3>
<h4
id="并发操作系统最基本特征">并发(<font color = "red">操作系统最基本特征</font>)</h4>
<ul>
<li>并发是指两个或多个事件在同一时间间隔内发生。</li>
<li>操作系统的并行性是指计算机系统中同时存在多个运行的程序。</li>
<li>并发(交替)：同一时间间隔； 并行(同时)：同一时刻</li>
<li>单核处理器使用并发，多核处理器使用并行。</li>
<li>程序并发性体现在两个方面：
<ul>
<li>用户程序与用户程序之间的并发执行</li>
<li>用户程序与操作系统程序之间的并发执行</li>
</ul></li>
</ul>
<h4
id="共享操作系统最基本特征">共享(<font color = "red">操作系统最基本特征</font>)</h4>
<p>资源共享(资源复用)即共享，是指系统中的资源可供内存中多个并发执行的进程共同使用。</p>
<ol type="1">
<li>互斥共享方式
<ul>
<li>在一段时间内只允许一个进程访问该资源。</li>
<li>在一段时间内只允许一个进程访问的资源称为<strong>临界资源</strong>或<strong>独占资源</strong>。</li>
<li>临界资源：栈、变量和表格。</li>
</ul></li>
<li>同时访问方式
<ul>
<li>另一类资源允许在一段时间内由多个进程"同时"访问。</li>
<li>这里的"同时"是宏观说法，在微观上，这些进程是交替进行访问的。</li>
</ul></li>
</ol>
<p>并发和共享是操作系统两个最基本的特征。</p>
<p>两者之间互为存在的条件：</p>
<ul>
<li>资源共享是以程序的并发为条件的，若系统不允许程序并发执行，则自然不存在资源共享问题。</li>
<li>若系统不能对资源共享实施有效的管理，则必将影响到程序的并发执行，甚至根本无法并发执行。</li>
</ul>
<h4 id="虚拟">虚拟</h4>
<p>虚拟是把一个物理上的实体变为若干逻辑上的对应物。用于实现虚拟的技术，称为虚拟技术。</p>
<ul>
<li>利用多道程序设计技术把一个物理上的 CPU 虚拟为多个逻辑上的
CPU，称为<strong>虚拟处理器</strong>。</li>
<li>采用虚拟存储器技术将一台机器的物理存储器变为虚拟存储器，把用户感觉到的(但实际不存在的)存储器称为<strong>虚拟存储器</strong>。</li>
<li>采用虚拟设备技术将一台物理 I/O 设备虚拟为多台逻辑上的 I/O
设备，使原来仅允许在一段时间内由一个用户访问的设备变为在一段时间内允许多个用户同时访问的共享设备。</li>
</ul>
<p>操作系统的虚拟技术：</p>
<ol type="1">
<li>时分复用技术：通过减少处理器和 I/O
设备的空闲时间，来提高计算机资源的利用率，如处理器的分时共享；
<ul>
<li>虚拟处理器技术：将一个物理上的处理器虚拟为多台逻辑上的处理器，用户说感觉到的处理器称为虚拟处理器。</li>
<li>虚拟设备技术：通过虚拟设备技术将一台物理上的 I/O
设备虚拟为多台逻辑上的 I/O 设备。</li>
</ul></li>
<li>空分复用技术：利用存储器的空闲空间区域存放和运行其他的多道程序，以此来提高内存的利用率，如虚拟存储器。
<ul>
<li>虚拟磁盘技术：通过虚拟磁盘技术将一台硬盘虚拟为多台虚拟硬盘。</li>
<li>虚拟存储器技术：将内存分成很多个区域，每个区域存放不同进程，提高内存利用率。</li>
</ul></li>
</ol>
<h4 id="异步">异步</h4>
<p>多道程序环境允许多个程序并发执行，但由于资源有限，进程的执行并不是一贯到底的，而是走走停停的，它以不可预知的速度向前推进，这就是进程的异步性。</p>
<h3 id="操作系统的目标和功能">1.1.3 操作系统的目标和功能</h3>
<p>操作系统应该具有以下几个功能：</p>
<ol type="1">
<li>处理机管理</li>
<li>存储器管理</li>
<li>设备管理</li>
<li>文件管理</li>
</ol>
<p>同时操作系统可以用来扩充机器，以提供更方便的服务、更高的资源利用率。</p>
<h4
id="操作系统作为计算机系统资源的管理者">操作系统作为计算机系统资源的管理者</h4>
<ol type="1">
<li><p>处理机管理</p>
<p>处理机的分配和运行都以进程(或线程)为基本单位。</p>
<p>主要功能：<strong>进程控制</strong>、<strong>进程同步</strong>、<strong>进程通信</strong>、<strong>死锁处理</strong>、<strong>处理机调度</strong></p></li>
<li><p>存储器管理</p>
<p>存储器管理是为了给多道程序的运行提供良好环境，方便用户使用及提高内存的利用率。</p>
<p>主要功能：<strong>内存分配与回收</strong>、<strong>地址映射</strong>、<strong>内存保护与共享</strong>、<strong>内存扩充</strong></p></li>
<li><p>文件管理</p>
<p>计算机中的信息都是以文件的形式存在的，操作系统中负责文件管理的部分称为<strong>文件系统</strong>。</p>
<p>主要功能：<strong>文件存储空间的管理</strong>、<strong>目录管理</strong>、<strong>文件读写管理和保护</strong></p></li>
<li><p>设备管理</p>
<p>设备管理的主要任务是完成用户的 I/O 请求，方便用户使用各种设备。</p>
<p>主要功能：缓冲管理、设备分配、设备处理和虚拟设备</p></li>
</ol>
<h4
id="操作系统作为用户与计算机硬件系统之间的接口">操作系统作为用户与计算机硬件系统之间的接口</h4>
<p>操作系统提供的接口主要分为两类：</p>
<ul>
<li><p>一类是命令接口，用户利用这些操作命令来组织和控制作业的执行。</p></li>
<li><p>另一类是程序接口，编程人员可以用它们来请求操作系统服务。</p></li>
</ul>
<ol type="1">
<li><p>命令接口 两种方式进行作业控制：联机控制方式和脱机控制方式。
按作业控制方式不同，可分为：联机命令接口和脱机命令接口。</p>
<ol type="1">
<li>联机命令接口(交互式命令接口)，适用于分时或实时系统的接口。</li>
<li>脱机命令接口(批处理命令接口)，适用于批处理系统。</li>
</ol></li>
<li><p>程序接口(也叫系统调用)</p>
<ol type="1">
<li><p>程序接口由一组系统调用(也称广义指令)组成。</p></li>
<li><p>是操作系统为应用程序使用内核功能所提供的接口。最常见的是GUI图形窗口</p></li>
<li><p>是操作系统提供给编程人员的接口</p></li>
<li><p>目的是请求系统服务</p></li>
<li><p>只能通过用户程序间接使用</p></li>
</ol>
<p>举例：</p>
<p>题1</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/5869e055a57aac69774ac19bf12661e.jpg" /></p>
<p>题2 <img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/0edeabcbe2f1b01275328b42fb1ae23.jpg" /></p>
<p>操作系统与用户通信的接口是命令接口和程序接口(系统调用)</p>
<p>A：shell，命令解析器，属于命令接口</p>
<p>B：命令解释器，命令接口</p>
<p>C：广义指令，就是系统调用命令</p>
<p>D：操作系统不提供管理系统缓存的系统调用</p></li>
</ol>
<h4
id="操作系统实现了对计算机资源的扩充">操作系统实现了对计算机资源的扩充</h4>
<p>没有任何软件支持的计算机称为<strong>裸机</strong>。</p>
<p>把覆盖了软件的机器称为<strong>扩充机器或虚拟机</strong>。</p>
<h2 id="操作系统的发展历程">1.2 操作系统的发展历程</h2>
<h3 id="手工操作阶段">1.2.1 手工操作阶段</h3>
<p>此阶段无操作系统，所有的工作都需要人工干预。</p>
<p>两个缺点(人机矛盾)：</p>
<ul>
<li>用户独占全机，所有计算机资源在一段时间内只能被一个用户使用。</li>
<li>CPU 需要等待人工操作，这造成 CPU
和内存资源大部分时间处于空闲状态。</li>
</ul>
<h3 id="批处理操作系统">1.2.2 批处理操作系统</h3>
<h4 id="单道批处理系统">单道批处理系统</h4>
<p>利用脱机输入输出的方式，在监督程序的控制下实现连续工作。</p>
<p>特征：</p>
<ul>
<li>自动性。磁带上的一批作业能自动地逐个运行，无需人工干预。</li>
<li>顺序性。先调入内存的作业先完成。</li>
<li>单道性(封闭性)
。监督程序每次从磁带上只调入一道程序进入内存运行，当程序完成或异常时，才切换后继程序继续运行。</li>
</ul>
<p>优点：解决了人机矛盾和 CPU 与 I/O
设备速度不匹配的问题，提高系统资源的利用率和系统吞吐率。</p>
<p>缺点：每次只能运行一道程序，不能充分利用系统资源。</p>
<h4 id="多道批处理系统">多道批处理系统</h4>
<p>多道程序设计技术允许多个程序同时进入内存并允许它们在 CPU
中交替地运行，这些程序共享系统中的各种软硬件资源。</p>
<p>特点：</p>
<ul>
<li>多道。计算机内存中同时存放多道互相独立的程序。</li>
<li>宏观上并行。同时进入系统的多道程序都处于运行过程中。</li>
<li>微观上串行。内存中的多道程序轮流占有 CPU，交替执行。</li>
</ul>
<p>举例：</p>
<p><font color = "red">多道相对于单道失去了单道的顺序性和封闭性</font></p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/954c6788eddf5997a124a650fd20e97.jpg" /></p>
<p>实现多道程序设计技术需要解决下列问题：</p>
<ul>
<li>如何分配处理器</li>
<li>多道程序的内存分配问题</li>
<li>I/O 设备如何分配</li>
<li>如何组织和存放大量的程序和数据，以方便用户使用并保证其安全性与一致性</li>
</ul>
<p>在批处理系统中采用多道程序设计技术就形成了多道批处理操作系统。</p>
<figure>
<img
src="D:/HuaweiMoveData/Users/piolet/Desktop/2024-Postgraduate-408-main/OperatingSystem/ch1/assets/image-20230422223017021.png"
alt="image-20230422223017021" />
<figcaption aria-hidden="true">image-20230422223017021</figcaption>
</figure>
<p>优点：系统利用率高，多道程序共享计算机资源；系统吞吐量大，CPU
和其他资源保持忙碌状态。</p>
<p>缺点：用户响应的时间较长；没有人机交互功能。</p>
<blockquote>
<p>❗<font color = "red">无论是单道批处理系统还是多道批处理系统，用户一旦把作业提交给系统后，直至作业完成，用户都不能与自己的作业进行交互</font>，这对修改和调试程序是极不方便的。</p>
</blockquote>
<p>举例：</p>
<p>题1</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/be16b40173415a560a5e4ed02a8a8c2.jpg" /></p>
<p>A：脱机技术，对应知识点是1.1.3操作系统作为用户与计算机硬件之间的接口中的命令接口里的脱机命令接口。用于解决独占设备的问题。</p>
<p>B：虚拟技术，以多道程序设计技术为前提</p>
<p>C：交换技术，以多道程序设计技术为前提</p>
<p>D：同时在主存中运行多个程序，提高利用率</p>
<p>题2 计算利用率</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/8b910ec5175b426a160105ad32df12b.jpg" /></p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/d29ab25e68b0825e80c0489806004cb.jpg" /></p>
<p><font color = "red">(1)计算一个东西的利用率是将这个东西所画的时间/总时间</font></p>
<p><font color = "red">(2)多批次常画图(甘特图)</font></p>
<p><font color = "red">(3)甘特图中不同形状的线表示不同的任务，相同的任务就是相同形状的线</font></p>
<h3 id="分时操作系统">1.2.3 分时操作系统</h3>
<p>分时技术：把处理器的运行时间分成很短的时间片，按时间片轮流把处理器分配给各联机作业使用。</p>
<p>关于时间片举例：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/1644b9853259045dc285fb122d718ff.jpg" /></p>
<p>分时操作系统：多个用户通过终端同时共享一台主机，这些终端连接在主机上，用户可以同时与主机进行交互操作而互不干扰。所以分时操作系统追求的目标是<font color = "red">快速响应用户</font></p>
<blockquote>
<p>多道批处理是实现作业自动控制而无需人工干预的系统，分时系统是实现人机交互的系统。</p>
</blockquote>
<p>分时系统的特征：</p>
<ul>
<li>同时性(多路性)：一台计算机与若干台终端相连接，终端上的这些用户可以同时或基本同时使用计算机。</li>
<li>交互性：用户能够方便地与系统进行人机对话。</li>
<li>独立性：系统中多个用户可以彼此独立地进行操作，互不干扰。</li>
<li>及时性：用户请求能在很短时间内获得响应。</li>
</ul>
<h3 id="实时操作系统">1.2.4 实时操作系统</h3>
<p>实时系统：系统能够及时地对外部请求作出相应，并在规定的时间处理该事件，让所有实时任务协调一致的运行。</p>
<p>软实时系统：可以允许或容忍偶尔出现某一事件没在规定时间内完成处理。</p>
<p>硬实时系统：任何时刻都要绝对保证某个事件在规定的时刻得到处理和响应。</p>
<p>实时操作系统具有以下特征：（说白了就是<font color = "red">一要快，二要可靠</font>)</p>
<ul>
<li>多路性：系统周期性地采集多路现场的信息，以及同时控制多个对象和执行机构。</li>
<li>独立性：系统在采集信息和控制对象的时候都是互不影响、彼此独立的。</li>
<li>实时性：系统的实时性是严格根据控制对象所规定的截止时间来确定的。</li>
<li>交互性：用户通过和程序直接交互来控制它的运行。</li>
<li>可靠性：实时系统要求高度可靠，因为任何差错都会产生无法预料的灾难性后果。</li>
</ul>
<p>实时操作系统的进程调度通常采用<font color = "red">抢占式的优先级高者优先</font></p>
<h3 id="其他操作系统">1.2.5 其他操作系统</h3>
<p>网络操作系统：网络环境下管理和控制网络资源的操作系统，其建立在网络中不同计算机的单机操作系统之上，为用户提供了使用网络资源的接口。</p>
<p>分布式操作系统：配置在分布式系统上的操作系统，可以直接对分布式系统中的各种资源进行动态分配。分布式操作系统管理若干计算机，使它们协调配合完成同一个任务。</p>
<h3 id="小结">小结</h3>
<p>允许多个用户以交互的方式使用计算机的操作系统，叫<font color = "red">分时操作系统</font></p>
<p>允许多个用户将若干作业提交给计算机系统几种处理的操作系统，叫<font color = "red">批处理操作系统</font></p>
<p>能及时处理由过程控制反馈的数据的操作系统，叫<font color = "red">实时操作系统</font></p>
<h2 id="操作系统运行环境">1.3 操作系统运行环境</h2>
<h3 id="处理器运行模式">1.3.1 处理器运行模式</h3>
<p>CPU
通常执行两种不同性质的程序：一种是<strong>操作系统内核程序</strong>，一种是<strong>用户自编程序</strong>(即应用程序)。</p>
<p>其中内核程序是应用程序的“管理者”，因此内核程序要执行一些特权命令，而应用程序处于安全考虑不能执行这些指令：</p>
<ul>
<li>特权指令：指不允许用户直接使用的指令。</li>
<li>非特权指令：指允许用户直接使用的指令。</li>
</ul>
<p>用户程序调用系统 API
函数称为<strong>系统调用</strong>，一旦发生了系统调用，将暂停用户程序的运行，转而执行内核代码，访问内核空间，这称为<strong>内核模式</strong>(即内核态)。从用户态到核心态是通过<font color = "red">硬件</font>完成。执行的是<font color = "red">“访管”</font>指令</p>
<p>当在用户空间执行应用程序自己的代码时，称为<strong>用户模式</strong>(即用户态)。</p>
<p>举例</p>
<ul>
<li>题1：核心态指令</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/1177dc2e6949375861d3ac357a5ebe3.jpg" /></p>
<p>1:批处理的缺点是交互性不足</p>
<p>2：输出/输出需要中断，中断就必须在核心态下执行</p>
<p>3：多道程序设计是为了提高利用率</p>
<p>4：记着就行</p>
<ul>
<li>题2：核心态指令</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/49596ecb3397a0e95148c80257f4df4.jpg" /></p>
<p>ACD都可以通过汇编语言实现，即用户态。而置时钟指令可以这么理解，如果用户可以直接调用，那一个用户可以通过修改自己的时间从而一直占用时间片。</p>
<p><font color = "red">注意区分“调用”和“执行”</font>，用户程序可以调用系统调用指令，但系统调用指令一定执行在核心态</p>
<ul>
<li>题3：用户态指令</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/d517ad28b285b211ba4bfbe7f187455.jpg" /></p>
<p>缺页处理和时钟中断都是中断，都在核心态下执行。</p>
<p>进程调度用户更管不着，也在核心态下执行</p>
<p>命令解释属于命令接口，能面对用户</p>
<ul>
<li><font color = "red">题4：用户态指令，注意与上一题区别</font></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/71f3699b7ea98de3d73bb384b8ebb2b.jpg" /></p>
<p>A：系统调用就是操作系统留给用户程序的接口。系统调用发生在用户态，被调用程序在核心态下运行</p>
<p>B：外部中断是用户态到核心态的“门”，发生在用户态，在核心态下完成中断过程</p>
<p>C：进程切换是系统调用发生过程中的事件</p>
<p>D：缺页在用户态产生，然后进入核心态执行缺页中断服务程序/</p>
<ul>
<li>题5：核心态与用户态之间转换</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/dc4c6f5cde3f303d09bf7ea018f139d.jpg" /></p>
<p>A：可能发生除0的异常</p>
<p>B：都告诉你中断了</p>
<p>C：用户态就可以</p>
<p>D：可能会缺页异常</p>
<p>操作系统内核有以下几种功能：</p>
<ul>
<li>资源抽象：屏蔽底层的硬件细节，使应用程序独立于实际使用的物理资源。</li>
<li>资源分配和回收：将抽象资源分配给应用程序，并在适当的时机进行回收。</li>
<li>资源共享：允许进程共享资源，并提供进程同步和互斥机制，以协助多道程序并发执行。</li>
</ul>
<p>操作系统内核还包括四个方面的内容：</p>
<ul>
<li>时钟管理
<ul>
<li>在计算机的各种部件中，时钟是最关键的设备。</li>
<li>时钟的功能：
<ul>
<li>计时：操作系统需要通过时钟管理，向用户提供标准的系统时间。</li>
<li>中断管理：实现进程的切换。</li>
</ul></li>
</ul></li>
<li>中断机制
<ul>
<li>中断机制是操作系统各项操作的基础。</li>
<li>中断机制中，只有一小部分属于内核，它们负责保护和恢复中断现场的信息，转移控制权到相关的处理程序。这样可以减少中断的处理时间，提高系统的并行处理能力。</li>
</ul></li>
<li>原语
<ul>
<li>把具有以下特点的程序称为<strong>原语</strong>：
<ul>
<li>处于操作系统的最底层，是最接近硬件的部分。</li>
<li>这些程序的运行具有原子性，其操作只能一气呵成。</li>
<li>这些程序的运行时间都较短，而且调用频繁。</li>
</ul></li>
<li>定义原语的方法：关闭中断，让其所有动作都不可分割地完成后再打开中断。</li>
</ul></li>
<li>系统控制的数据结构及处理
<ul>
<li>系统常见的操作：
<ul>
<li>进程管理。</li>
<li>存储器管理。</li>
<li>设备管理。</li>
</ul></li>
</ul></li>
</ul>
<h3 id="中断和异常的概念">1.3.2 中断和异常的概念</h3>
<p>操作系统内核工作在核心态，而用户程序工作在用户态。</p>
<p><font color = "red">发生中断或异常时，运行用户态的 CPU
会立即进入核心态。</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/image-20230316210022128.png" alt="image-20230316210022128" style="zoom:50%;" /></p>
<h4 id="中断外部中断">中断(外部中断)</h4>
<blockquote>
<p>中断是一种由 I/O 外部设备触发的异步事件，它<font color = "red">与 CPU
正在执行的指令无关</font>，中断提供了外设与 CPU
交流的机制，它也是一种重要的输入输出方式。</p>
</blockquote>
<ol type="1">
<li><p>可屏蔽中断</p>
<p>可屏蔽中断是指通过 INTR
线发出的中断请求，通过改变屏蔽字可以实现多重中断，从而使得中断处理更加灵活。</p></li>
<li><p>不可屏蔽中断</p>
<p>不可屏蔽中断是指通过 NMI
线发出的中断请求，通常是紧急的硬件故障。</p></li>
</ol>
<h4 id="异常内部异常">异常(内部异常)</h4>
<blockquote>
<p>异常是 CPU 执行当前指令产生的事件，是同步发生的，与 CPU
正在执行的指令密切相关。</p>
</blockquote>
<ol type="1">
<li><p>故障(fault)</p>
<ul>
<li>故障是一种可能恢复的异常事件。</li>
<li>若可以修复，则 CPU 跳转到引起故障的指令继续进行。</li>
<li>若不能修复，则终止当前程序。</li>
</ul></li>
<li><p>陷阱(trap)</p>
<ul>
<li><p>陷阱是一种有意安排的异常事件。</p></li>
<li><p>陷阱指令也称为<strong>访管指令</strong>、<strong>陷入指令</strong>。</p>
<p>举例</p></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/9b7e3926ef45b401339cf966cca1456.jpg" /></p>
<p>用户程序运行特权指令会转成操作系统的核心去运行。其中的中断叫访管中断，属于内部中断</p></li>
<li><p>终止(abort)</p>
<ul>
<li>终止是一种无法恢复的异常事件。</li>
</ul></li>
</ol>
<h4
id="中断与异常的处理过程中断处理是操作系统必须提供的功能">中断与异常的处理过程(<font color = "red">中断处理是操作系统必须提供的功能</font>)</h4>
<ol type="1">
<li><p>中断响应过程(<font color = "red">都是由硬件CPU执行</font>)</p>
<ol type="1">
<li><p>关中断</p>
<p>CPU
首先要关中断，禁止在进行中断处理时又去响应新的中断，防止保存的断点、程序状态字、现场信息被破坏。</p></li>
<li><p>保存断点和程序状态字</p>
<p>断点和状态字信息在特殊的寄存器中(PC 和 PSW)，CPU
会将这两个寄存器内容压栈。</p>
<p>其中<font color = "red">PC</font>的内容由<font color = "red">中断隐指令</font>自动保存，<font color = "red">PSW通用寄存器内容</font>由<font color = "red">操作系统</font>保存</p></li>
<li><p>引出中断服务程序</p>
<p>CPU
检测到中断信号后对具体中断源进行识别，以此引出对应的中断服务程序。并将CPU模式修改为内核态</p></li>
</ol></li>
<li><p>中断处理过程(<font color = "red">由软件操作系统完成</font>)</p>
<p><img src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/767740c0a7e0a2b2d667f428770298d.jpg" alt="767740c0a7e0a2b2d667f428770298d" style="zoom:25%;" /></p>
<ol type="1">
<li>保护现场</li>
<li>执行中断处理程序</li>
<li>恢复现场</li>
</ol>
<p>举例</p>
<ul>
<li>题1：进入中断处理的程序</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/ea43341cdce13960f602dca625c1ffb.jpg" /></p>
<p>无论中断程序是用户还是OS程序，进入中断处理的一定是OS程序</p>
<ul>
<li>题2：中断的保存内容</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/66cab669bcc414763c92e7949fac43e.jpg" /></p>
<p>子程序调用只需要保存断点，即该指令的下一条指令的地址</p>
<p>中断处理不仅要保存断点(PC的内容)，还要保存程序状态字寄存器(PSW的内容)</p>
<ul>
<li><p>题3：中断的保存内容</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/a45350a0a4dc169a07783d348554c06.jpg" /></p></li>
<li><p>题4：中断中由操作系统完成的部分</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/c09f3f5bd07e81a0d956602379f5d37.jpg" /></p>
<p>答案：B</p>
<p><img
src="D:\MyDownloads\Software\wechatfile\WeChat%20Files\wxid_6hyhf91zyxtg22\FileStorage\Temp\a45350a0a4dc169a07783d348554c06.jpg" /></p>
<p>答案：D</p></li>
</ul></li>
</ol>
<p>​</p>
<h4 id="小结-1">小结</h4>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">类型</th>
<th style="text-align: center;">产生原因</th>
<th style="text-align: center;">同步/异步</th>
<th>返回</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">中断</td>
<td style="text-align: center;">I/O 设备的请求信号</td>
<td style="text-align: center;">异步</td>
<td>返回下一条指令</td>
</tr>
<tr class="even">
<td style="text-align: center;">故障</td>
<td style="text-align: center;">可能恢复的异常事件</td>
<td style="text-align: center;">同步</td>
<td>可能返回当前指令</td>
</tr>
<tr class="odd">
<td style="text-align: center;">陷阱</td>
<td style="text-align: center;">有意安排的异常事件</td>
<td style="text-align: center;">同步</td>
<td>返回下一条指令</td>
</tr>
<tr class="even">
<td style="text-align: center;">终止</td>
<td style="text-align: center;">无法恢复的异常事件</td>
<td style="text-align: center;">同步</td>
<td>不会返回</td>
</tr>
</tbody>
</table>
<h3 id="系统调用">1.3.3 系统调用</h3>
<p>陷阱是一种有意安排的内部异常事件，这样安排的目的是实现系统调用。</p>
<p>所谓系统调用，是指用户在程序中调用系统所提供的一些子功能，系统调用可视为特殊的公共子程序。</p>
<p>系统调用的功能：</p>
<ul>
<li>设备管理：完成设备的请求和释放，以及设备启动等功能。</li>
<li>文件管理：完成文件的读、写、创建及删除等功能。</li>
<li>进程控制：完成进程的创建、撤销、阻塞及唤醒等功能。</li>
<li>进程通信：完成进程之间的消息传递或信号传递等功能。</li>
<li>内存管理：完成内存的分配、回收以及获取作业占用内存区大小及始址等功能。</li>
</ul>
<p>用户程序可以执行陷入指令来发起系统调用，请求操作系统提供服务。</p>
<p>若程序的运行由用户态转到核心态，则会用到访管指令，访管指令是在用户态使用的，所以它不可能是特权指令。</p>
<p>举例</p>
<ul>
<li>题1</li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/6f5f6c7857145603cc107a9ccb9f5e3.jpg" /></p>
<p>1：系统调用需要触发trap指令</p>
<p>2：程序设计无法形成屏蔽中断指令</p>
<p>3：系统调用的概念</p>
<p>4：操作系统的作用</p>
<ul>
<li><p>题2</p>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/9fa388ae4d1221e7a5614c76383717a.jpg" /></p></li>
</ul>
<p>​ 1：断句，对</p>
<p>​ 2：对</p>
<p>​ 3：linux会和windows一样吗？错</p>
<p>​ 4：对</p>
<h3 id="程序的链接与装入">1.3.4 程序的链接与装入</h3>
<p>要使一个程序能在多道程序环境下运行，首先要做的事情是创建进程，而创建进程的首要任务是将程序和数据装入内存。</p>
<p>要将一个用户源程序变为一个可在内存中执行的程序，一般有以下几个步骤：</p>
<ol type="1">
<li><p>编译</p>
<p>由编译程序将用户源代码编译成 CPU
可执行的目标代码，产生了若干个目标模块。</p></li>
<li><p>链接</p>
<p>由链接程序将编译后形成的一组目标模块，以及它们所需要的库函数链接在一起，形成一个完整的装入模块。</p></li>
<li><p>装入</p>
<p>由装入程序将装入模块装入内存。</p></li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/39cce9e3e82a7e9df213b7acc0b171d.jpg" alt="39cce9e3e82a7e9df213b7acc0b171d" style="zoom: 25%;" /></p>
<h4 id="程序的装入地址的变换">程序的装入(地址的变换)</h4>
<ul>
<li><p>绝对装入方式</p>
<p>按照物理内存的位置赋予实际的物理地址。</p></li>
<li><p>静态地址重定位(可重定位装入方式)</p>
<p>静态地址重定位是指在程序开始运行前，程序中指令和数据的各个地址均已完成重定位，此时就已经完成了虚拟地址到内存地址的变换，并且以后不再改变。</p></li>
<li><p>动态地址重定位(动态运行时装入方式)</p>
<p>动态地址重定位方式是在程序执行过程中进行地址变换。</p></li>
</ul>
<h4 id="程序的链接">程序的链接</h4>
<p>源程序经过编译后，可得到一组目标模块，再利用链接程序将这组目标模块链接，形成装入模块。</p>
<p>根据链接的时间不同，可把链接分为以下三种:</p>
<ul>
<li>静态链接：在程序运行之前，先将各目标模块及它们所需的库函数，链接成一个完整的装配模块，不再拆开。</li>
<li>装入时动态链接：将用户源程序编译后所得到的一组目标模块，在装入内存时，采用边装入边链接的链接方式。</li>
<li>运行时动态链接：在程序执行中需要该目标模块时，才对某些目标模块进行链接。</li>
</ul>
<h3 id="程序运行时的内存映像与地址空间">1.3.5
程序运行时的内存映像与地址空间</h3>
<p>地址空间：指的是一组非负整数地址的集合。</p>
<p>采用虚拟地址的好处：</p>
<ul>
<li>每个进程的虚拟地址空间是独立的，方便操作系统之上的用户编程，在多道程序并发的情况下，防止其他进程的干扰破坏。</li>
<li>所有进程的虚拟地址空间的大小和结构划分是一致的，这简化了操作系统对存储器的管理。</li>
<li>将主存看做外部存储器的缓存副本，根据实际运行需要进行信息的交换，可以节省主存空间。</li>
</ul>
<p>程序运行时的内存映像指的是进程在内存中存放和组织的方式，进程会被映射到一个统一的虚拟地址空间。</p>
<p><img align="right" src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/5f826210f563db759a6b5047c946cc4.jpg" style="zoom:25%;" /></p>
<p><strong>只读代码和数据区</strong>：进程虚拟地址从此区域开始，该区域存放进程的只读代码和只读数据。</p>
<p><strong>可读/写数据区</strong>：该区域存放进程的可读可写数据。</p>
<p><strong>运行时堆</strong>：由进程在运行时动态创建，该区域可以动态增长和收缩。</p>
<p><strong>共享库</strong>：该区域用于存放公共的共享库代码和数据。</p>
<p><strong>用户栈</strong>：该区域用来存放局部变量、返回地址、函数调用参数等信息。</p>
<p><strong>操作系统内核区</strong>：该区域是操作系统内核使用的地址空间，包括内核程序、代码、内核栈等信息，这些信息对用户程序不可见。</p>
<h2 id="操作系统的体系结构">1.4 操作系统的体系结构</h2>
<h3 id="分层结构">1.4.1 分层结构</h3>
<p>特性：内核分多层，每层可单向调用更低一层提供的接口。</p>
<p>优点：</p>
<ul>
<li>便于调试和验证，自底向上逐层调试验证。</li>
<li>易扩充和易维护，各层之间调用接口清晰固定。</li>
</ul>
<p>缺点：</p>
<ul>
<li>仅可调用相邻低层，难以合理定义各层的边界。</li>
<li>效率低，不可跨层调用，系统调用执行时间长。</li>
</ul>
<h3 id="模块化">1.4.2 模块化</h3>
<p>特性：将内核划分为多个模块，各模块之间相互协作。</p>
<ul>
<li>内核 = 主模块 + 可加载内核模块</li>
<li>主模块：只负责核心功能。</li>
<li>可加载内核模块：可以动态加载新模块到内核，而无需重新编译整个内核。</li>
</ul>
<p>优点：</p>
<ul>
<li>模块间逻辑清晰易于维护，确定模块间接口后即可多模块同时开发。</li>
<li>支持动态加载新的内核模块，增强OS适应性。</li>
<li>任何模块都可以直接调用其他模块，无需采用消息传递进行通信，效率高。</li>
</ul>
<p>缺点：</p>
<ul>
<li>模块间的接口定义未必合理、实用。</li>
<li>模块间相互依赖，更难调试和验证。</li>
</ul>
<h3 id="宏内核大内核">1.4.3 宏内核(大内核)</h3>
<p>特性：所有的系统功能都放在内核里。</p>
<p>优点：性能高，内核内部各种功能都可以直接相互调用。</p>
<p>缺点：</p>
<ul>
<li>内核庞大功能复杂，难以维护。</li>
<li>大内核中某个功能模块出错，就可能导致整个系统崩溃。</li>
</ul>
<h3 id="微内核">1.4.4 微内核</h3>
<p>特性：</p>
<ul>
<li>只把中断、原语、进程通信等最核心的功能放入内核。</li>
<li>进程管理、文件管理、设备管理等功能以用户进程的形式运行在用户态。</li>
</ul>
<p>优点：</p>
<ul>
<li>内核小功能少、易于维护，内核可靠性高。</li>
<li>内核外的某个功能模块出错不会导致整个系统崩溃。</li>
<li>添加系统服务时不必修改内核</li>
</ul>
<p>缺点：</p>
<ul>
<li>性能低，需要频繁切换用户态和核心态。</li>
<li>用户态下的各功能模块不可以直接相互调用，只能通过内核的“消息传递”来间接通信。</li>
</ul>
<h3 id="外核">1.4.5 外核</h3>
<p>特性：内核负责进程调度、进程通信等功能，外核负责为用户进程分配未经抽象的硬件资源，且由外核负责保证资源使用安全。</p>
<p>优点：</p>
<ul>
<li>外核可直接给用户进程分配“不虚拟、不抽象”的硬件资源，使用户进程可以更灵活的使用硬件资源。</li>
<li>减少了虚拟硬件资源的“映射层”，提升效率。</li>
</ul>
<p>缺点：</p>
<ul>
<li>降低了系统的一致性。</li>
<li>使系统变得更复杂。</li>
</ul>
<h2 id="操作系统引导">1.5 操作系统引导</h2>
<p>基本输入输出系统BIOS是一种固化到计算机内主板上的一个只读存储器芯片内的一种固件。</p>
<p>常见操作系统的引导过程：</p>
<figure>
<img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/image-20230318174400336.png"
alt="image-20230318174400336" />
<figcaption aria-hidden="true">image-20230318174400336</figcaption>
</figure>
<ul>
<li>引导程序位于硬盘中，且只会将硬盘中存储的操作系统内核加入到内存，其他部分仅在需要时才加入</li>
</ul>
<h2 id="虚拟机">1.6 虚拟机</h2>
<p><strong>基本概念</strong>：虚拟机是一台逻辑计算机，是指利用特殊的虚拟化技术，通过隐藏特定计算平台的实际物理特性，为用户提供抽象的、统一的、模拟的计算环境。</p>
<h4 id="两类虚拟机管理程序vmm的对比">两类虚拟机管理程序(VMM)的对比</h4>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 43%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>第一类VMM</th>
<th>第二类VMM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>对物理资源的控制权</td>
<td>直接运行在硬件之上，能直接控制和分配物理资源</td>
<td>运行在Host OS之上，依赖于Host OS为其分配物理资源</td>
</tr>
<tr class="even">
<td>资源分配方式</td>
<td>安装Guest
OS时，VMM在原本的硬盘上自行分配存储空间。<br />类似于外核，分配未经抽象的物理硬件。</td>
<td>GuestOS拥有自己的虚拟磁盘，该盘实际上是Host
OS文件系统中的一个大文件。<br />GuestOS分配到的内存是虚拟内存。</td>
</tr>
<tr class="odd">
<td>性能</td>
<td>性能更好</td>
<td>性能更差，需要HostOS作为中介</td>
</tr>
<tr class="even">
<td>可支持的虚拟机数量</td>
<td>更多，不需要和HostOS竞争支援，相同的硬件资源可以支持更多的虚拟机</td>
<td>更少，HostOS本身需要使用物理资源，HostOS上运行的其他进程也需要物理资源</td>
</tr>
<tr class="odd">
<td>虚拟机的可迁移性</td>
<td>更差</td>
<td>更好</td>
</tr>
<tr class="even">
<td>运行模式</td>
<td>运行在最高特权级(Ring0)，可以执行最高特权的指令</td>
<td>部分运行在用户态，部分运行在内核态。</td>
</tr>
</tbody>
</table>
<p><img
src="https://cdn.jsdelivr.net/gh/pilotztb/myBlog_img@master/635b663711bb4472dc56a2531e8c621.jpg" /></p>
<p>3有迷惑性。这顶多叫并发不是并行。多核处理器才能实现并行</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>pilot
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://example.com/posts/2ba40472.html" title="操作系统概述">http://example.com/posts/2ba40472.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/cfbc6a45.html" rel="prev" title="第一章_汇编语言基础">
      <i class="fa fa-chevron-left"></i> 第一章_汇编语言基础
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/7df5f4eb.html" rel="next" title="蓝桥oj610-分数">
      蓝桥oj610-分数 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">第一章 操作系统概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 操作系统的基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1.1 操作系统的概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E5%BE%81"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.1.2 操作系统的特征</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%89%B9%E5%BE%81"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">并发(操作系统最基本特征)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%89%B9%E5%BE%81"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">共享(操作系统最基本特征)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">虚拟</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5"><span class="nav-number">1.1.2.4.</span> <span class="nav-text">异步</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%9B%AE%E6%A0%87%E5%92%8C%E5%8A%9F%E8%83%BD"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.1.3 操作系统的目标和功能</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BD%9C%E4%B8%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E7%9A%84%E7%AE%A1%E7%90%86%E8%80%85"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">操作系统作为计算机系统资源的管理者</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BD%9C%E4%B8%BA%E7%94%A8%E6%88%B7%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B9%8B%E9%97%B4%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">操作系统作为用户与计算机硬件系统之间的接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%AF%B9%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%B5%84%E6%BA%90%E7%9A%84%E6%89%A9%E5%85%85"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">操作系统实现了对计算机资源的扩充</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 操作系统的发展历程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%B7%A5%E6%93%8D%E4%BD%9C%E9%98%B6%E6%AE%B5"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.2.1 手工操作阶段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%B9%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2.2 批处理操作系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">单道批处理系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">多道批处理系统</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.2.3 分时操作系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.2.4 实时操作系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.5.</span> <span class="nav-text">1.2.5 其他操作系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">1.2.6.</span> <span class="nav-text">小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 操作系统运行环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%99%A8%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.3.1.</span> <span class="nav-text">1.3.1 处理器运行模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%92%8C%E5%BC%82%E5%B8%B8%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-number">1.3.2.</span> <span class="nav-text">1.3.2 中断和异常的概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">中断(外部中断)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8%E5%86%85%E9%83%A8%E5%BC%82%E5%B8%B8"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">异常(内部异常)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E4%B8%8E%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E6%98%AF%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BF%85%E9%A1%BB%E6%8F%90%E4%BE%9B%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">中断与异常的处理过程(中断处理是操作系统必须提供的功能)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="nav-number">1.3.2.4.</span> <span class="nav-text">小结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="nav-number">1.3.3.</span> <span class="nav-text">1.3.3 系统调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%93%BE%E6%8E%A5%E4%B8%8E%E8%A3%85%E5%85%A5"><span class="nav-number">1.3.4.</span> <span class="nav-text">1.3.4 程序的链接与装入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%A3%85%E5%85%A5%E5%9C%B0%E5%9D%80%E7%9A%84%E5%8F%98%E6%8D%A2"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">程序的装入(地址的变换)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%93%BE%E6%8E%A5"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">程序的链接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E6%97%B6%E7%9A%84%E5%86%85%E5%AD%98%E6%98%A0%E5%83%8F%E4%B8%8E%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4"><span class="nav-number">1.3.5.</span> <span class="nav-text">1.3.5
程序运行时的内存映像与地址空间</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 操作系统的体系结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84"><span class="nav-number">1.4.1.</span> <span class="nav-text">1.4.1 分层结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="nav-number">1.4.2.</span> <span class="nav-text">1.4.2 模块化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8F%E5%86%85%E6%A0%B8%E5%A4%A7%E5%86%85%E6%A0%B8"><span class="nav-number">1.4.3.</span> <span class="nav-text">1.4.3 宏内核(大内核)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%AE%E5%86%85%E6%A0%B8"><span class="nav-number">1.4.4.</span> <span class="nav-text">1.4.4 微内核</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E6%A0%B8"><span class="nav-number">1.4.5.</span> <span class="nav-text">1.4.5 外核</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BC%95%E5%AF%BC"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 操作系统引导</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">1.6.</span> <span class="nav-text">1.6 虚拟机</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E7%B1%BB%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AE%A1%E7%90%86%E7%A8%8B%E5%BA%8Fvmm%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="nav-number">1.6.0.1.</span> <span class="nav-text">两类虚拟机管理程序(VMM)的对比</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Pilot"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Pilot</p>
  <div class="site-description" itemprop="description">心有所向，无问西东</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">169</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">58</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/pilotztb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;pilotztb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/1718552614?spm_id_from=333.1007.0.0" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;1718552614?spm_id_from&#x3D;333.1007.0.0" rel="noopener" target="_blank"><i class="fa bilibili fa-fw"></i>Bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/m0_72805195?spm=1000.2115.3001.5343" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;m0_72805195?spm&#x3D;1000.2115.3001.5343" rel="noopener" target="_blank"><i class="fa csdn fa-fw"></i>CSDN</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2024-01 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pilot</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">420k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">6:22</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>



    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'BpqNyVDBrhcD8AxcdDnKI9m4-gzGzoHsz',
      appKey     : 'J9GI6kVcrDKd8yf0UPS5k26C',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
